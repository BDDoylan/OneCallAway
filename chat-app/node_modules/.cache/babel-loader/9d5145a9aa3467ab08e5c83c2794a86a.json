{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shihab Islam\\\\Desktop\\\\test\\\\OneCallAway\\\\chat-app\\\\src\\\\components\\\\Party.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport io from \"socket.io-client\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { TextField, Typography, List, Toolbar, Divider, ListItem, ListItemIcon, ListItemText, AppBar, Drawer, Tooltip } from \"@material-ui/core\";\nimport Messages from \"./Messages\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet socket;\nconst drawerWidth = 45;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    backgroundColor: \"yellow\",\n    boxShadow: \"0px 14px 24px -10px rgba(0,0,0,0.25)\"\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\"\n  },\n  drawerClose: {\n    marginRight: 15,\n    border: \"none\",\n    borderRadius: \"0px 15px 15px 0px\"\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  }\n}));\n\nconst Party = _ref => {\n  _s();\n\n  let {\n    location\n  } = _ref;\n  const classes = useStyles();\n  const [open] = React.useState(false);\n  const [name, setName] = useState(\"\");\n  const [party, setParty] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]); // const ENDPOINT = \"localhost:5000\";\n\n  const ENDPOINT = \"http://react-chat-app-ludovic.herokuapp.com/\";\n  useEffect(() => {\n    const {\n      name,\n      party\n    } = queryString.parse(location.search); // console.log(name, party); // thing + thing\n\n    socket = io(ENDPOINT);\n    setName(name);\n    setParty(party);\n    socket.emit(\"join\", {\n      name,\n      party\n    }, () => {}); // console.log(socket); // return the unique user id\n\n    return () => {\n      socket.emit(\"disconnect\"); // end of the useEffect the user left the party\n\n      socket.off(); // turn it off\n    };\n  }, [ENDPOINT, location.search]);\n  useEffect(() => {\n    socket.on(\"message\", message => {\n      setMessages([...messages, message]); // add the message from the backend (admin welcome)\n    });\n  }, [messages]); // func send message\n\n  const sendMessage = evt => {\n    evt.preventDefault();\n\n    if (message) {\n      socket.emit(\"sendMessage\", message, () => {\n        setMessage(\"\");\n      });\n    }\n  }; // console.log(message, messages); //display the array of the messages\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"fixed\",\n        className: clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        }),\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pulseAnim\",\n            style: {\n              marginRight: 15\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            noWrap: true,\n            style: {\n              color: \"black\",\n              fontWeight: \"bold\"\n            },\n            children: party\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        variant: \"permanent\",\n        className: clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open\n        }),\n        classes: {\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open\n          })\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.toolbar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Chat\",\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              button: true,\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(ForumIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Settings\",\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              button: true,\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Quit the party\",\n              children: /*#__PURE__*/_jsxDEV(ListItem, {\n                button: true,\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: classes.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.toolbar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Messages, {\n          messages: messages,\n          name: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          value: message,\n          variant: \"outlined\",\n          label: \"Type something\",\n          style: {\n            marginTop: 5\n          },\n          fullWidth: true,\n          onChange: evt => setMessage(evt.target.value),\n          onKeyPress: evt => evt.key === \"Enter\" ? sendMessage(evt) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(Party, \"w7gV/TEYuul1jAxbW/T7oS6UOX0=\", false, function () {\n  return [useStyles];\n});\n\n_c = Party;\nexport default Party;\n\nvar _c;\n\n$RefreshReg$(_c, \"Party\");","map":{"version":3,"sources":["C:/Users/Shihab Islam/Desktop/test/OneCallAway/chat-app/src/components/Party.js"],"names":["React","useState","useEffect","queryString","io","clsx","makeStyles","TextField","Typography","List","Toolbar","Divider","ListItem","ListItemIcon","ListItemText","AppBar","Drawer","Tooltip","Messages","ForumIcon","SettingsIcon","ExitToAppIcon","socket","drawerWidth","useStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","backgroundColor","boxShadow","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerClose","border","borderRadius","toolbar","alignItems","justifyContent","padding","spacing","mixins","content","flexGrow","Party","location","classes","open","name","setName","party","setParty","message","setMessage","messages","setMessages","ENDPOINT","parse","search","emit","off","on","sendMessage","evt","preventDefault","color","fontWeight","drawerOpen","paper","marginTop","target","value","key"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SACCC,SADD,EAECC,UAFD,EAGCC,IAHD,EAICC,OAJD,EAKCC,OALD,EAMCC,QAND,EAOCC,YAPD,EAQCC,YARD,EASCC,MATD,EAUCC,MAVD,EAWCC,OAXD,QAYO,mBAZP;AAaA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,+BAAP;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;;;AAEA,IAAIC,MAAJ;AACA,MAAMC,WAAW,GAAG,EAApB;AAEA,MAAMC,SAAS,GAAGlB,UAAU,CAACmB,KAAK,KAAK;AACtCC,EAAAA,IAAI,EAAE;AACLC,IAAAA,OAAO,EAAE;AADJ,GADgC;AAItCC,EAAAA,MAAM,EAAE;AACPC,IAAAA,MAAM,EAAEJ,KAAK,CAACI,MAAN,CAAaC,MAAb,GAAsB,CADvB;AAEPC,IAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,CAAC,OAAD,EAAU,QAAV,CAAzB,EAA8C;AACzDC,MAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADwB;AAEzDC,MAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BC;AAFoB,KAA9C,CAFL;AAMPC,IAAAA,eAAe,EAAE,QANV;AAOPC,IAAAA,SAAS,EAAE;AAPJ,GAJ8B;AAatCC,EAAAA,WAAW,EAAE;AACZC,IAAAA,UAAU,EAAElB,WADA;AAEZmB,IAAAA,KAAK,EAAG,eAAcnB,WAAY,KAFtB;AAGZQ,IAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,CAAC,OAAD,EAAU,QAAV,CAAzB,EAA8C;AACzDC,MAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADwB;AAEzDC,MAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BO;AAFoB,KAA9C;AAHA,GAbyB;AAqBtCC,EAAAA,UAAU,EAAE;AACXC,IAAAA,WAAW,EAAE;AADF,GArB0B;AAwBtCC,EAAAA,IAAI,EAAE;AACLnB,IAAAA,OAAO,EAAE;AADJ,GAxBgC;AA2BtCG,EAAAA,MAAM,EAAE;AACPY,IAAAA,KAAK,EAAEnB,WADA;AAEPwB,IAAAA,UAAU,EAAE,CAFL;AAGPC,IAAAA,UAAU,EAAE;AAHL,GA3B8B;AAgCtCC,EAAAA,WAAW,EAAE;AACZJ,IAAAA,WAAW,EAAE,EADD;AAEZK,IAAAA,MAAM,EAAE,MAFI;AAGZC,IAAAA,YAAY,EAAE;AAHF,GAhCyB;AAqCtCC,EAAAA,OAAO,EAAE;AACRzB,IAAAA,OAAO,EAAE,MADD;AAER0B,IAAAA,UAAU,EAAE,QAFJ;AAGRC,IAAAA,cAAc,EAAE,UAHR;AAIRC,IAAAA,OAAO,EAAE9B,KAAK,CAAC+B,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAJD;AAKR,OAAG/B,KAAK,CAACgC,MAAN,CAAaL;AALR,GArC6B;AA4CtCM,EAAAA,OAAO,EAAE;AACRC,IAAAA,QAAQ,EAAE,CADF;AAERJ,IAAAA,OAAO,EAAE9B,KAAK,CAAC+B,OAAN,CAAc,CAAd;AAFD;AA5C6B,CAAL,CAAN,CAA5B;;AAkDA,MAAMI,KAAK,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC/B,QAAMC,OAAO,GAAGtC,SAAS,EAAzB;AACA,QAAM,CAACuC,IAAD,IAAS/D,KAAK,CAACC,QAAN,CAAe,KAAf,CAAf;AAEA,QAAM,CAAC+D,IAAD,EAAOC,OAAP,IAAkBhE,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACiE,KAAD,EAAQC,QAAR,IAAoBlE,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACmE,OAAD,EAAUC,UAAV,IAAwBpE,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACqE,QAAD,EAAWC,WAAX,IAA0BtE,QAAQ,CAAC,EAAD,CAAxC,CAP+B,CAQ/B;;AACA,QAAMuE,QAAQ,GAAG,8CAAjB;AAEAtE,EAAAA,SAAS,CAAC,MAAM;AACf,UAAM;AAAE8D,MAAAA,IAAF;AAAQE,MAAAA;AAAR,QAAkB/D,WAAW,CAACsE,KAAZ,CAAkBZ,QAAQ,CAACa,MAA3B,CAAxB,CADe,CAEf;;AAEApD,IAAAA,MAAM,GAAGlB,EAAE,CAACoE,QAAD,CAAX;AAEAP,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,IAAAA,QAAQ,CAACD,KAAD,CAAR;AAEA5C,IAAAA,MAAM,CAACqD,IAAP,CAAY,MAAZ,EAAoB;AAAEX,MAAAA,IAAF;AAAQE,MAAAA;AAAR,KAApB,EAAqC,MAAM,CAAE,CAA7C,EATe,CAUf;;AAEA,WAAO,MAAM;AACZ5C,MAAAA,MAAM,CAACqD,IAAP,CAAY,YAAZ,EADY,CACe;;AAC3BrD,MAAAA,MAAM,CAACsD,GAAP,GAFY,CAEE;AACd,KAHD;AAIA,GAhBQ,EAgBN,CAACJ,QAAD,EAAWX,QAAQ,CAACa,MAApB,CAhBM,CAAT;AAkBAxE,EAAAA,SAAS,CAAC,MAAM;AACfoB,IAAAA,MAAM,CAACuD,EAAP,CAAU,SAAV,EAAqBT,OAAO,IAAI;AAC/BG,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcF,OAAd,CAAD,CAAX,CAD+B,CACM;AACrC,KAFD;AAGA,GAJQ,EAIN,CAACE,QAAD,CAJM,CAAT,CA7B+B,CAmC/B;;AACA,QAAMQ,WAAW,GAAGC,GAAG,IAAI;AAC1BA,IAAAA,GAAG,CAACC,cAAJ;;AAEA,QAAIZ,OAAJ,EAAa;AACZ9C,MAAAA,MAAM,CAACqD,IAAP,CAAY,aAAZ,EAA2BP,OAA3B,EAAoC,MAAM;AACzCC,QAAAA,UAAU,CAAC,EAAD,CAAV;AACA,OAFD;AAGA;AACD,GARD,CApC+B,CA6C/B;;;AACA,sBACC;AAAA,2BACC;AAAK,MAAA,SAAS,EAAEP,OAAO,CAACpC,IAAxB;AAAA,8BACC,QAAC,MAAD;AACC,QAAA,QAAQ,EAAC,OADV;AAEC,QAAA,SAAS,EAAErB,IAAI,CAACyD,OAAO,CAAClC,MAAT,EAAiB;AAC/B,WAACkC,OAAO,CAACtB,WAAT,GAAuBuB;AADQ,SAAjB,CAFhB;AAAA,+BAMC,QAAC,OAAD;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAE;AAAElB,cAAAA,WAAW,EAAE;AAAf;AAAnC;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC,QAAC,UAAD;AACC,YAAA,OAAO,EAAC,IADT;AAEC,YAAA,MAAM,MAFP;AAGC,YAAA,KAAK,EAAE;AAAEoC,cAAAA,KAAK,EAAE,OAAT;AAAkBC,cAAAA,UAAU,EAAE;AAA9B,aAHR;AAAA,sBAKEhB;AALF;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAND;AAAA;AAAA;AAAA;AAAA,cADD,eAkBC,QAAC,MAAD;AACC,QAAA,OAAO,EAAC,WADT;AAEC,QAAA,SAAS,EAAE7D,IAAI,CAACyD,OAAO,CAAChC,MAAT,EAAiB;AAC/B,WAACgC,OAAO,CAACqB,UAAT,GAAsBpB,IADS;AAE/B,WAACD,OAAO,CAACb,WAAT,GAAuB,CAACc;AAFO,SAAjB,CAFhB;AAMC,QAAA,OAAO,EAAE;AACRqB,UAAAA,KAAK,EAAE/E,IAAI,CAAC;AACX,aAACyD,OAAO,CAACqB,UAAT,GAAsBpB,IADX;AAEX,aAACD,OAAO,CAACb,WAAT,GAAuB,CAACc;AAFb,WAAD;AADH,SANV;AAAA,gCAaC;AAAK,UAAA,SAAS,EAAED,OAAO,CAACV;AAAxB;AAAA;AAAA;AAAA;AAAA,gBAbD,eAcC,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAdD,eAeC,QAAC,IAAD;AAAA,kCACC,QAAC,OAAD;AAAS,YAAA,KAAK,EAAC,MAAf;AAAA,mCACC,QAAC,QAAD;AAAU,cAAA,MAAM,MAAhB;AAAA,sCACC,QAAC,YAAD;AAAA,uCACC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD,eAIC,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,sBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eASC,QAAC,OAAD;AAAS,YAAA,KAAK,EAAC,UAAf;AAAA,mCACC,QAAC,QAAD;AAAU,cAAA,MAAM,MAAhB;AAAA,sCACC,QAAC,YAAD;AAAA,uCACC,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD,eAIC,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,sBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBATD,eAiBC;AAAG,YAAA,IAAI,EAAC,GAAR;AAAA,mCACC,QAAC,OAAD;AAAS,cAAA,KAAK,EAAC,gBAAf;AAAA,qCACC,QAAC,QAAD;AAAU,gBAAA,MAAM,MAAhB;AAAA,wCACC,QAAC,YAAD;AAAA,yCACC,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,wBADD,eAIC,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,wBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAjBD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfD;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBD,eA8DC;AAAM,QAAA,SAAS,EAAEU,OAAO,CAACJ,OAAzB;AAAA,gCACC;AAAK,UAAA,SAAS,EAAEI,OAAO,CAACV;AAAxB;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,QAAD;AAAU,UAAA,QAAQ,EAAEkB,QAApB;AAA8B,UAAA,IAAI,EAAEN;AAApC;AAAA;AAAA;AAAA;AAAA,gBAFD,eAGC,QAAC,SAAD;AACC,UAAA,KAAK,EAAEI,OADR;AAEC,UAAA,OAAO,EAAC,UAFT;AAGC,UAAA,KAAK,EAAC,gBAHP;AAIC,UAAA,KAAK,EAAE;AAAEiB,YAAAA,SAAS,EAAE;AAAb,WAJR;AAKC,UAAA,SAAS,MALV;AAMC,UAAA,QAAQ,EAAEN,GAAG,IAAIV,UAAU,CAACU,GAAG,CAACO,MAAJ,CAAWC,KAAZ,CAN5B;AAOC,UAAA,UAAU,EAAER,GAAG,IAAKA,GAAG,CAACS,GAAJ,KAAY,OAAZ,GAAsBV,WAAW,CAACC,GAAD,CAAjC,GAAyC;AAP9D;AAAA;AAAA;AAAA;AAAA,gBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,cA9DD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AAgFA,CA9HD;;GAAMnB,K;UACWpC,S;;;KADXoC,K;AAgIN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport io from \"socket.io-client\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tTextField,\r\n\tTypography,\r\n\tList,\r\n\tToolbar,\r\n\tDivider,\r\n\tListItem,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tAppBar,\r\n\tDrawer,\r\n\tTooltip\r\n} from \"@material-ui/core\";\r\nimport Messages from \"./Messages\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nlet socket;\r\nconst drawerWidth = 45;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\"\r\n\t},\r\n\tappBar: {\r\n\t\tzIndex: theme.zIndex.drawer + 1,\r\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.leavingScreen\r\n\t\t}),\r\n\t\tbackgroundColor: \"yellow\",\r\n\t\tboxShadow: \"0px 14px 24px -10px rgba(0,0,0,0.25)\"\r\n\t},\r\n\tappBarShift: {\r\n\t\tmarginLeft: drawerWidth,\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen\r\n\t\t})\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: 36\r\n\t},\r\n\thide: {\r\n\t\tdisplay: \"none\"\r\n\t},\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t\twhiteSpace: \"nowrap\"\r\n\t},\r\n\tdrawerClose: {\r\n\t\tmarginRight: 15,\r\n\t\tborder: \"none\",\r\n\t\tborderRadius: \"0px 15px 15px 0px\"\r\n\t},\r\n\ttoolbar: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"flex-end\",\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\t...theme.mixins.toolbar\r\n\t},\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\tpadding: theme.spacing(3)\r\n\t}\r\n}));\r\n\r\nconst Party = ({ location }) => {\r\n\tconst classes = useStyles();\r\n\tconst [open] = React.useState(false);\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [party, setParty] = useState(\"\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [messages, setMessages] = useState([]);\r\n\t// const ENDPOINT = \"localhost:5000\";\r\n\tconst ENDPOINT = \"http://react-chat-app-ludovic.herokuapp.com/\";\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { name, party } = queryString.parse(location.search);\r\n\t\t// console.log(name, party); // thing + thing\r\n\r\n\t\tsocket = io(ENDPOINT);\r\n\r\n\t\tsetName(name);\r\n\t\tsetParty(party);\r\n\r\n\t\tsocket.emit(\"join\", { name, party }, () => {});\r\n\t\t// console.log(socket); // return the unique user id\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.emit(\"disconnect\"); // end of the useEffect the user left the party\r\n\t\t\tsocket.off(); // turn it off\r\n\t\t};\r\n\t}, [ENDPOINT, location.search]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on(\"message\", message => {\r\n\t\t\tsetMessages([...messages, message]); // add the message from the backend (admin welcome)\r\n\t\t});\r\n\t}, [messages]);\r\n\r\n\t// func send message\r\n\tconst sendMessage = evt => {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tif (message) {\r\n\t\t\tsocket.emit(\"sendMessage\", message, () => {\r\n\t\t\t\tsetMessage(\"\");\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t// console.log(message, messages); //display the array of the messages\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition=\"fixed\"\r\n\t\t\t\t\tclassName={clsx(classes.appBar, {\r\n\t\t\t\t\t\t[classes.appBarShift]: open\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<span className=\"pulseAnim\" style={{ marginRight: 15 }} />\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\tstyle={{ color: \"black\", fontWeight: \"bold\" }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{party}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant=\"permanent\"\r\n\t\t\t\t\tclassName={clsx(classes.drawer, {\r\n\t\t\t\t\t\t[classes.drawerOpen]: open,\r\n\t\t\t\t\t\t[classes.drawerClose]: !open\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: clsx({\r\n\t\t\t\t\t\t\t[classes.drawerOpen]: open,\r\n\t\t\t\t\t\t\t[classes.drawerClose]: !open\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Tooltip title=\"Chat\">\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ForumIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip title=\"Settings\">\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SettingsIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<a href=\"/\">\r\n\t\t\t\t\t\t\t<Tooltip title=\"Quit the party\">\r\n\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText />\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t<Messages messages={messages} name={name} />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvalue={message}\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tlabel=\"Type something\"\r\n\t\t\t\t\t\tstyle={{ marginTop: 5 }}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={evt => setMessage(evt.target.value)}\r\n\t\t\t\t\t\tonKeyPress={evt => (evt.key === \"Enter\" ? sendMessage(evt) : null)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Party;\r\n"]},"metadata":{},"sourceType":"module"}